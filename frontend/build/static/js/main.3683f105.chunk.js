(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{146:function(e,t,a){e.exports=a(272)},151:function(e,t,a){},152:function(e,t,a){},272:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(37),c=a.n(i),o=(a(151),a(9)),s=a(10),l=a(12),u=a(11),d=(a(152),a(6)),p=a(4),m=a.n(p),h=a(15),f=a(16),E=a.n(f),v=a(27),g=function(){return function(){var e=Object(h.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"USER_LOADING"}),e.prev=1,e.next=4,E.a.get("http://127.0.0.1:8000/api/auth/user",b(a));case 4:n=e.sent,t({type:"USER_LOADED",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},b=function(e){var t=localStorage.getItem("token"),a={headers:{"Content-Type":"application/json"}};return t&&(a.headers.Authorization="Token ".concat(t)),a},y=a(14),O=a(116),k=a(117),_=a(114),I=a(118),N=a.n(I),R=a(28),S={isLoading:!1,isAuthenticated:null,user:null,token:localStorage.getItem("token")},j=Object(y.combineReducers)({form:_.a,all_recipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_RECIPES":return t.payload;default:return e}},user_recipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_RECIPES":var a=t.payload.user_recipes;return a;default:return e}},friends_recipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_FRIENDS_RECIPES":var a=t.payload.friends_recipes;return a;default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_RECIPES":var a=t.payload.favorites;return a;default:return e}},recipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_RECIPE":case"ADD_TODO":case"EDIT_TODO":return t.payload;case"DELETE_TODO":return N.a.omit(e,t.payload);default:return e}},user_profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER":return t.payload;default:return e}},user_search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SEARCH":return t.payload;default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(R.a)(Object(R.a)({},e),{},{isLoading:!0});case"USER_LOADED":return Object(R.a)(Object(R.a)({},e),{},{isLoading:!1,isAuthenticated:!0,user:t.payload});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(R.a)(Object(R.a)({},e),{},{isLoading:!1,isAuthenticated:!0},t.payload);case"AUTH_ERROR":case"REGISTER_FAIL":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":return localStorage.removeItem("token"),Object(R.a)(Object(R.a)({},e),{},{isLoading:!1,isAuthenticated:!1,user:null,token:null});default:return e}}}),F=function(e,t){return"LOGOUT_SUCCESS"===t.type&&(e=void 0),j(e,t)},w=Object(y.createStore)(F,Object(O.composeWithDevTools)(Object(y.applyMiddleware)(k.a))),x=a(17),C=a(7),A=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(){void 0!=typeof this.props.auth.isAuthenticated&&!1===this.props.auth.isAuthenticated&&this.hideNavIcons()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{id:"header"},r.a.createElement("h1",null,r.a.createElement(C.c,{to:"/",style:{textDecoration:"none"}},"Cookstagram")),r.a.createElement("p",{id:"username-goes-here"},this.renderUsername()),r.a.createElement("div",{onClick:this.props.logout,id:"logout_btn"},r.a.createElement("i",{className:"fa fa-lock"})),r.a.createElement(C.c,{id:"profile_btn",to:"/"},r.a.createElement("i",{id:"profile_btn_i",className:"far fa-user-circle"})),r.a.createElement(C.c,{id:"feed_btn",to:"/feed"},r.a.createElement("i",{id:"feed_btn_i",className:"far fa-address-book"})),r.a.createElement(C.c,{id:"explore_btn",to:"/explore"},r.a.createElement("i",{id:"explore_btn_i",className:"far fa-compass"}))))}},{key:"renderUsername",value:function(){return this.props.auth.isAuthenticated?"Hello "+this.props.auth.user.username:"Welcome"}},{key:"hideNavIcons",value:function(){document.getElementById("logout_btn").className="hidden",document.getElementById("profile_btn_i").className="hidden",document.getElementById("feed_btn_i").className="hidden",document.getElementById("explore_btn_i").className="hidden"}},{key:"logout",value:function(){return this.props.logout(),r.a.createElement(x.a,{to:"/login"})}}]),a}(n.Component),B=Object(d.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(){var e=Object(h.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("logout_btn").className="hidden",document.getElementById("profile_btn").className="hidden",document.getElementById("feed_btn").className="hidden",document.getElementById("explore_btn").className="hidden",e.next=6,E.a.post("http://127.0.0.1:8000/api/auth/logout",null,b(a));case 6:t({type:"LOGOUT_SUCCESS"});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}})(A),L=a(20),T=Object(L.a)({forceRefresh:!0}),U=function(){return function(){var e=Object(h.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("http://127.0.0.1:8000/api/auth/user",b(a));case 2:return n=e.sent,e.abrupt("return",t({type:"GET_USER_RECIPES",payload:n.data}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},P=function(){return function(){var e=Object(h.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("http://127.0.0.1:8000/api/auth/user",b(a));case 2:return n=e.sent,e.abrupt("return",t({type:"GET_FAVORITES",payload:n.data}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(h.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.get("http://127.0.0.1:8000/api/recipe/".concat(e,"/"));case 2:n=t.sent,a({type:"GET_RECIPE",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},G=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).show_recipe=function(e){console.log("Recipe switched"),console.log(e.currentTarget),document.getElementById("recipe-ingredients-text").innerHTML="",document.getElementById("recipe-directions-text").innerHTML="",document.getElementById("recipe-ingredients-text").innerHTML=e.currentTarget.querySelector("#recipe-ingredients").innerHTML,document.getElementById("recipe-directions-text").innerHTML=e.currentTarget.querySelector("#recipe-directions").innerHTML,document.querySelector("#recipe-ingredients-text").style.opacity="1",document.querySelector("#recipe-directions-text").style.opacity="1"},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.pickRecipecardTemplate())}},{key:"pickRecipecardTemplate",value:function(){return"Profile"===this.props.component?this.renderUserRecipes():"OtherProfile"===this.props.component?this.renderOtherUserRecipes():"Feed"===this.props.component?this.renderFeedRecipes():void 0}},{key:"renderUserRecipes",value:function(){var e=this;if(this.props.recipes)return this.props.recipes.map((function(t){return r.a.createElement("div",{className:"recipecard",key:t.id},r.a.createElement("div",{className:"recipecard-content",style:e.getRecipePicture(t)},r.a.createElement("div",{className:"recipe-title-container"},r.a.createElement(C.b,{to:{pathname:"/recipe/".concat(t.id),component:"Profile"}},r.a.createElement("div",{className:"recipe-title"},r.a.createElement("h1",null,t.title))),r.a.createElement(C.b,{to:"/edit/".concat(t.id)},r.a.createElement("i",{className:"fas fa-edit edit_btn"})),r.a.createElement(C.b,{to:"/delete/".concat(t.id)},r.a.createElement("i",{className:"fas fa-trash delete_btn"}))),r.a.createElement("p",{className:"recipe-author"},r.a.createElement(C.b,{style:{textDecoration:"underline",color:"rgb(230, 220, 200)"},to:"/"},t.username)),r.a.createElement(C.b,{to:{pathname:"/recipe/".concat(t.id),component:"Profile"}},r.a.createElement("h2",{className:"recipe-cooktime"},t.cooktime))))}))}},{key:"renderOtherUserRecipes",value:function(){var e=this;if(this.props.recipes)return this.props.recipes.map((function(t){return r.a.createElement("div",{className:"recipecard",key:t.id},r.a.createElement("div",{className:"recipecard-content",style:e.getRecipePicture(t)},r.a.createElement("div",{className:"recipe-title-container"},r.a.createElement(C.b,{to:{pathname:"/recipe/".concat(t.id),component:"OtherProfile"}},r.a.createElement("div",{className:"recipe-title"},r.a.createElement("h1",null,t.title))),e.renderAddOrRemoveFavorite(t)),r.a.createElement("p",{className:"recipe-author"},r.a.createElement(C.b,{style:{textDecoration:"underline",color:"rgb(230, 220, 200)"},to:"/profile/".concat(t.author)},t.username)),r.a.createElement(C.b,{to:{pathname:"/recipe/".concat(t.id),component:"OtherProfile"}},r.a.createElement("h2",{className:"recipe-cooktime"},t.cooktime))))}))}},{key:"renderFeedRecipes",value:function(){var e=this;return this.props.recipes.map((function(t){return r.a.createElement("div",{className:"recipecard",key:t.id},r.a.createElement("div",{className:"recipecard-content",style:e.getRecipePicture(t)},r.a.createElement("div",{className:"recipe-title-container"},r.a.createElement(C.b,{to:{pathname:"/recipe/".concat(t.id),component:"Feed"}},r.a.createElement("div",{className:"recipe-title"},r.a.createElement("h1",null,t.title))),e.renderAddOrRemoveFavorite(t)),r.a.createElement("p",{className:"recipe-author"},r.a.createElement(C.b,{style:{textDecoration:"underline",color:"rgb(230, 220, 200)"},to:"/profile/".concat(t.author)},t.username)),r.a.createElement(C.b,{to:{pathname:"/recipe/".concat(t.id),component:"Feed"}},r.a.createElement("h2",{className:"recipe-cooktime"},t.cooktime))))}))}},{key:"getRecipePicture",value:function(e){var t;return t=e.picture?"http://127.0.0.1:8000"+e.picture:"null",{backgroundImage:"url(".concat(t,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}}},{key:"renderAddOrRemoveFavorite",value:function(e){var t=this,a=[];this.props.auth.user&&(a=this.props.auth.user.favorites);var n=!1;for(var i in a)if(a[i].id===e.id){n=!0;break}return n?r.a.createElement("div",{className:"favorite_btn",onClick:function(){return t.removeFavorite(t.props.auth.user.id,e.id)}},r.a.createElement("i",{className:"fas fa-heart"})):r.a.createElement("div",{className:"favorite_btn",onClick:function(){return t.addFavorite(t.props.auth.user.id,e.id)}},r.a.createElement("i",{className:"far fa-heart"}))}},{key:"addFavorite",value:function(e,t){this.props.addFavorite(e,t),console.log("Favorote Added"),this.setState({auth:this.props.loadUser()})}},{key:"removeFavorite",value:function(e,t){this.props.removeFavorite(e,t),console.log("Favorite Removed"),this.setState({auth:this.props.loadUser()})}}]),a}(n.Component),M=Object(d.b)((function(e){return{auth:e.auth}}),{addFavorite:function(e,t){return function(){var a=Object(h.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.post("http://127.0.0.1:8000/api/user/profile/".concat(e,"/favorites/"),{recipe_id:t},b(n));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},removeFavorite:function(e,t){return function(){var a=Object(h.a)(m.a.mark((function a(n){var r,i;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=b(n),i={recipe_id:t},r.data=i,a.next=5,E.a.delete("http://127.0.0.1:8000/api/user/profile/".concat(e,"/favorites/"),r);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},loadUser:g})(G),H=a(112),q=a(113);function V(){"Add"===document.getElementById("add-btn").getAttribute("status")?(document.getElementById("add-btn").setAttribute("status","Cancel"),document.getElementById("add-btn").className="far fa-times-circle",document.getElementById("recipeform-container").className="",document.getElementById("recipecard-container-PROFILE").className="hidden"):"Cancel"===document.getElementById("add-btn").getAttribute("status")&&(document.getElementById("add-btn").setAttribute("status","Add"),document.getElementById("add-btn").className="far fa-plus-square",document.getElementById("recipeform-container").className="hidden",document.getElementById("recipecard-container-PROFILE").className=""),console.log(document.getElementById("add-btn").getAttribute("status")),console.log("button clicked")}var W=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).renderField=function(e){var t=e.input,a=e.label,n=e.meta,i=n.touched,c=n.error;return r.a.createElement("div",{className:"field ".concat(i&&c?"error":"")},r.a.createElement("label",null,a),r.a.createElement("br",null),r.a.createElement("input",Object.assign({},t,{autoComplete:"off"})),i&&c&&r.a.createElement("span",{className:"ui pointing red basic label"},c),r.a.createElement("br",null),r.a.createElement("br",null))},e.renderTextField=function(e){var t=e.input,a=e.label,n=e.meta,i=n.touched,c=n.error;return r.a.createElement("div",{className:"field ".concat(i&&c?"error":"")},r.a.createElement("label",null,a),r.a.createElement("br",null),r.a.createElement("textarea",Object.assign({},t,{autoComplete:"off"})),i&&c&&r.a.createElement("span",{className:"ui pointing red basic label"},c),r.a.createElement("br",null),r.a.createElement("br",null))},e.renderPictureField=function(t){t.input;var a=t.label,n=t.meta,i=n.touched,c=n.error;return r.a.createElement("div",{className:"field ".concat(i&&c?"error":"")},r.a.createElement("label",null,a,r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("input",{type:"file",onChange:e.handleImageChange,autoComplete:"off",accept:"image/*"}))},e.picture=null,e.handleImageChange=function(t){e.picture=t.target.files[0]},e.onSubmit=function(t){var a=new FormData;a.append("title",t.title),a.append("cooktime",t.cooktime),a.append("ingredients",t.ingredients),a.append("directions",t.directions),null!==e.picture&&a.append("picture",e.picture),e.props.onSubmit(a)},e}return Object(s.a)(a,[{key:"previewPicture",value:function(){if(this.props.initialValues){var e="url(".concat(this.props.initialValues.picture,")");return this.props.initialValues.picture?{width:"200px",height:"200px",backgroundImage:e,backgroundSize:"cover",marginBottom:"20px"}:{}}}},{key:"btnAddOrEdit",value:function(e){return"Update"===e?r.a.createElement("button",{className:"ui primary button"},e):"Add"===e?r.a.createElement("button",{className:"ui primary button",onClick:V},e):void 0}},{key:"render",value:function(){var e="".concat(this.props.initialValues?"Update":"Add");return r.a.createElement("div",{className:"ui segment",style:{backgroundColor:"#FFCBB1",borderRadius:"0"}},r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form error"},r.a.createElement(H.a,{name:"title",component:this.renderField,label:"Title"}),r.a.createElement(H.a,{name:"cooktime",component:this.renderTextField,label:"Cooking Time"}),r.a.createElement(H.a,{name:"ingredients",component:this.renderTextField,label:"Ingredients"}),r.a.createElement(H.a,{name:"directions",component:this.renderTextField,label:"Directions"}),r.a.createElement(H.a,{name:"picture",component:this.renderPictureField,label:"Picture"}),r.a.createElement("div",{id:"recipeform-current-picture",style:this.previewPicture()}),this.btnAddOrEdit(e)))}}]),a}(n.Component);W=Object(d.b)((function(e){return{auth:e.auth}}))(W);var X,z,J=Object(q.a)({form:"recipeForm",touchOnBlur:!1,validate:function(e){var t={};return e.title||(t.title="Please enter at least 1 character"),t}})(W),$=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.createRecipe(t),e.setState({user_recipes:e.props.getUserRecipes()})},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(J,{destroyOnUnmount:!1,onSubmit:this.onSubmit}))}}]),a}(n.Component),K=Object(d.b)(null,{createRecipe:function(e){return function(){var t=Object(h.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.post("http://127.0.0.1:8000/api/recipe/",e,b(n));case 2:r=t.sent,a({type:"ADD_TODO",payload:r.data}),a(Object(v.a)("recipeForm")),T.push("/");case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},getUserRecipes:U})($),Q=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getUserRecipes(),this.props.getFavoriteRecipes(),this.showIcons()}},{key:"componentWillMount",value:function(){this.setState({page:"created"})}},{key:"render",value:function(){var e=this;return this.setGrid(),this.setHeaderButton(),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"profile"},r.a.createElement("h1",null,this.props.auth.user.username),r.a.createElement("hr",null),r.a.createElement("div",{id:"count-container"},r.a.createElement("div",{id:"created-container",onClick:function(){return e.showCreated()}},r.a.createElement("p",{id:"created-label",className:"label-highlighted"},"RECIPES"),r.a.createElement("p",{id:"created-count",className:"count-highlighted"},this.props.user_recipes.length)),r.a.createElement("div",{id:"blank-count"}),r.a.createElement("div",{id:"saved-container",onClick:function(){return e.showSaved()}},r.a.createElement("p",{id:"saved-label"},"SAVED"),r.a.createElement("p",{id:"saved-count"},this.props.favorites.length)),r.a.createElement("div",{id:"add-btn-container",onClick:V},r.a.createElement("span",{id:"add-btn",className:"far fa-plus-square",status:"Add"})))),r.a.createElement("div",{id:"recipecard-container-PROFILE"},this.showCreatedOrSaved()),r.a.createElement("div",{id:"recipeform-container",className:"hidden"},r.a.createElement(K,null)))}},{key:"setGrid",value:function(){try{document.getElementById("grid-container-FEED").id="grid-container-PROFILE"}catch(e){try{document.getElementById("grid-container-EXPLORE").id="grid-container-PROFILE"}catch(e){}}}},{key:"setHeaderButton",value:function(){document.getElementById("profile_btn_i").className="fas fa-user-circle",document.getElementById("feed_btn_i").className="far fa-address-book",document.getElementById("explore_btn_i").className="far fa-compass"}},{key:"showCreatedOrSaved",value:function(){return"created"===this.state.page?r.a.createElement(M,{recipes:this.props.user_recipes,component:"Profile"}):"saved"===this.state.page?r.a.createElement(M,{recipes:this.props.favorites,component:"Feed"}):void 0}},{key:"showCreated",value:function(){this.setState({page:"created"}),document.getElementById("created-label").className="label-highlighted",document.getElementById("created-count").className="count-highlighted",document.getElementById("saved-label").className="",document.getElementById("saved-count").className=""}},{key:"showSaved",value:function(){this.setState({page:"saved"}),document.getElementById("saved-label").className="label-highlighted",document.getElementById("saved-count").className="count-highlighted",document.getElementById("created-label").className="",document.getElementById("created-count").className=""}},{key:"showIcons",value:function(){document.getElementById("logout_btn").className="",document.getElementById("profile_btn").className="",document.getElementById("feed_btn").className="",document.getElementById("explore_btn").className=""}}]),a}(n.Component),Y=Object(d.b)((function(e){return{user_recipes:e.user_recipes,favorites:e.favorites,auth:e.auth}}),{getUserRecipes:U,getFavoriteRecipes:P})(Q),Z=function(e,t){return function(){var a=Object(h.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.post("http://127.0.0.1:8000/api/user/profile/".concat(e,"/friends/"),{other_user_id:t},b(n));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},ee=function(e,t){return function(){var a=Object(h.a)(m.a.mark((function a(n){var r,i;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=b(n),i={other_user_id:t},r.data=i,a.next=5,E.a.delete("http://127.0.0.1:8000/api/user/profile/".concat(e,"/friends/"),r);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},te=function(e){return function(){var t=Object(h.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.get("http://127.0.0.1:8000/api/user/profile/".concat(e,"/"));case 2:return n=t.sent,t.abrupt("return",a({type:"GET_USER",payload:n.data}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ae=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getUser(this.props.match.params.id),this.props.loadUser(),this.setHeaderButton()}},{key:"componentWillMount",value:function(){this.props.loadUser()}},{key:"render",value:function(){return void 0!=typeof this.props.auth.isAuthenticated&&!1===this.props.auth.isAuthenticated?r.a.createElement(x.a,{to:"/login"}):(this.setGrid(),e=this.props.user.user_recipes?this.props.user.user_recipes.length:0,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"profile"},r.a.createElement("div",{id:"username-container"},r.a.createElement("h1",null,this.props.user.username),r.a.createElement("div",{id:"blank"}),this.addOrRemoveFriend()),r.a.createElement("hr",null),r.a.createElement("div",{id:"count-container"},r.a.createElement("div",{id:"created-container"},r.a.createElement("p",{id:"created-label",style:{fontWeight:"bold"}},"RECIPES"),r.a.createElement("p",{id:"created-count",style:{borderBottom:"3px solid #FFB4A0"}},e)))),r.a.createElement("div",{id:"recipecard-container-PROFILE"},r.a.createElement(M,{recipes:this.props.user.user_recipes,component:"OtherProfile"}))));var e}},{key:"setGrid",value:function(){try{document.getElementById("grid-container-FEED").id="grid-container-PROFILE"}catch(e){try{document.getElementById("grid-container-EXPLORE").id="grid-container-PROFILE"}catch(e){}}}},{key:"setHeaderButton",value:function(){document.getElementById("profile_btn_i").className="far fa-user-circle",document.getElementById("feed_btn_i").className="far fa-address-book",document.getElementById("explore_btn_i").className="fas fa-compass"}},{key:"addFriend",value:function(e,t){var a=this;this.props.addFriend(e,t),this.setState((function(){a.setState({auth:a.props.loadUser()})}))}},{key:"removeFriend",value:function(e,t){var a=this;this.props.removeFriend(e,t),this.setState((function(){a.setState({auth:a.props.loadUser()})}))}},{key:"addOrRemoveFriend",value:function(){var e,t=this;this.props.auth.user&&(e=this.props.auth.user.friends);var a=!1;for(var n in e)if(e[n].id===this.props.user.id){a=!0;break}return a?r.a.createElement("i",{id:"friend_btn",onClick:function(){return t.removeFriend(t.props.auth.user.id,t.props.user.id)},className:"fas fa-user-times"}):r.a.createElement("i",{id:"friend_btn",onClick:function(){return t.addFriend(t.props.auth.user.id,t.props.user.id)},className:"fas fa-user-plus"})}}]),a}(n.Component),ne=Object(d.b)((function(e){return{auth:e.auth,user:e.user_profile}}),{getUser:te,loadUser:g,addFriend:Z,removeFriend:ee})(ae),re=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getFriendsRecipes(),this.setHeaderButton()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return void 0!=typeof this.props.auth.isAuthenticated&&!1===this.props.auth.isAuthenticated?r.a.createElement(x.a,{to:"/login"}):(this.setGrid(),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"feed-title-container"},r.a.createElement("h1",{id:"feed-title"},"Feed"),r.a.createElement("hr",null)),r.a.createElement("div",{id:"recipecard-container-FEED"},r.a.createElement(M,{recipes:this.props.friends_recipes,component:"Feed"}))))}},{key:"setGrid",value:function(){try{document.getElementById("grid-container-PROFILE").id="grid-container-FEED"}catch(e){try{document.getElementById("grid-container-EXPLORE").id="grid-container-FEED"}catch(e){console.log("Feed Already Loaded")}}}},{key:"setHeaderButton",value:function(){document.getElementById("profile_btn_i").className="far fa-user-circle",document.getElementById("feed_btn_i").className="fas fa-address-book",document.getElementById("explore_btn_i").className="far fa-compass"}}]),a}(n.Component),ie=Object(d.b)((function(e){return{friends_recipes:e.friends_recipes,auth:e.auth}}),{getFriendsRecipes:function(){return function(){var e=Object(h.a)(m.a.mark((function e(t,a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("http://127.0.0.1:8000/api/auth/user",b(a));case 2:return n=e.sent,e.abrupt("return",t({type:"GET_FRIENDS_RECIPES",payload:n.data}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}})(re),ce=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.userSearch(""),this.setHeaderButton()}},{key:"render",value:function(){var e=this;return void 0!=typeof this.props.auth.isAuthenticated&&!1===this.props.auth.isAuthenticated?r.a.createElement(x.a,{to:"/login"}):(this.setGrid(),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"search-container"},r.a.createElement("input",{id:"explore-search-bar",className:"ReactSearchBox",name:"search",placeholder:"Search Users..",autoComplete:"off",onChange:function(t){return e.sendSearch(t)}})),r.a.createElement("div",{id:"results-container"},this.showResults())))}},{key:"sendSearch",value:function(e){var t=e.currentTarget.value;this.props.userSearch(t)}},{key:"showResults",value:function(){return this.props.user_search.map((function(e){return r.a.createElement("div",{className:"results-card-container",key:e.id},r.a.createElement(C.b,{to:"/profile/".concat(e.id)},r.a.createElement("div",{className:"results-card-username-container"},e.username)))}))}},{key:"setHeaderButton",value:function(){document.getElementById("profile_btn_i").className="far fa-user-circle",document.getElementById("feed_btn_i").className="far fa-address-book",document.getElementById("explore_btn_i").className="fas fa-compass"}},{key:"setGrid",value:function(){try{document.getElementById("grid-container-PROFILE").id="grid-container-EXPLORE"}catch(e){try{document.getElementById("grid-container-FEED").id="grid-container-EXPLORE"}catch(e){}}}}]),a}(n.Component),oe=Object(d.b)((function(e){return{user_search:e.user_search,auth:e.auth}}),{userSearch:function(e){return function(){var t=Object(h.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return""===e&&(e=" /"),t.next=3,E.a.get("http://127.0.0.1:8000/api/user/profile/search/".concat(e),b(n));case 3:r=t.sent,a({type:"USER_SEARCH",payload:r.data});case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}})(ce),se=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).renderField=function(e){var t=e.input,a=e.label,n=e.type,i=e.meta,c=i.touched,o=i.error;return r.a.createElement("div",{className:"field ".concat(c&&o?"error":"")},r.a.createElement("label",null,a),r.a.createElement("br",null),r.a.createElement("input",Object.assign({},t,{type:n})),c&&o&&r.a.createElement("span",{className:"ui pointing red basic label"},o),r.a.createElement("br",null),r.a.createElement("br",null))},e.onSubmit=function(t){e.props.register(t)},e}return Object(s.a)(a,[{key:"render",value:function(){return this.props.isAuthenticated?r.a.createElement(x.a,{to:"/"}):r.a.createElement("div",{id:"registerform",className:"ui container"},r.a.createElement("div",{className:"ui segment"},r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form"},r.a.createElement(H.a,{name:"username",type:"text",component:this.renderField,label:"Username",validate:[le,ue,de]}),r.a.createElement(H.a,{name:"password",type:"password",component:this.renderField,label:"Password",validate:le}),r.a.createElement(H.a,{name:"password2",type:"password",component:this.renderField,label:"Confirm Password",validate:[le,pe]}),r.a.createElement("button",{className:"ui primary button"},"Register")),r.a.createElement("p",{style:{marginTop:"1rem"}},"Already have an account? ",r.a.createElement(C.b,{to:"/login"},"Login"))))}}]),a}(n.Component),le=function(e){return e?void 0:"Required"},ue=(X=3,function(e){return e&&e.length<X?"Must be at least ".concat(X," characters"):void 0}),de=(z=15,function(e){return e&&e.length>z?"Must be ".concat(z," characters or less"):void 0}),pe=function(e,t){return e!==t.password?"Passwords do not match":void 0};se=Object(d.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{register:function(e){var t=e.username,a=e.email,n=e.password;return function(){var e=Object(h.a)(m.a.mark((function e(r){var i,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={headers:{"Content-Type":"application/json"}},c=JSON.stringify({username:t,email:a,password:n}),e.prev=2,e.next=5,E.a.post("http://127.0.0.1:8000/api/auth/register",c,i);case 5:o=e.sent,r({type:"REGISTER_SUCCESS",payload:o.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),r({type:"REGISTER_FAIL"}),r(Object(v.b)("registerForm",e.t0.response.data));case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}})(se);var me=Object(q.a)({form:"registerForm"})(se),he=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).renderField=function(e){var t=e.input,a=e.label,n=e.type,i=e.meta,c=i.touched,o=i.error;return r.a.createElement("div",{className:"field ".concat(c&&o?"error":"")},r.a.createElement("label",{style:{color:"#52505c",fontSize:"16px"}},a),r.a.createElement("br",null),r.a.createElement("input",Object.assign({},t,{type:n})),c&&o&&r.a.createElement("span",{className:"ui pointing red basic label"},o),r.a.createElement("br",null),r.a.createElement("br",null))},e.hiddenField=function(e){var t=e.type,a=e.meta.error;return r.a.createElement("div",{className:"field"},r.a.createElement("input",{type:t}),a&&r.a.createElement("div",{className:"ui red message"},a))},e.onSubmit=function(t){e.props.login(t)},e}return Object(s.a)(a,[{key:"guestLogin",value:function(){this.props.guestLogin()}},{key:"render",value:function(){var e=this;return this.props.isAuthenticated?r.a.createElement(x.a,{to:"/"}):r.a.createElement("div",{id:"loginform",className:"ui container"},r.a.createElement("div",{className:"ui segment",style:{backgroundColor:"#dee7fd"}},r.a.createElement("form",{onSubmit:this.props.handleSubmit(this.onSubmit),className:"ui form"},r.a.createElement(H.a,{name:"username",type:"text",component:this.renderField,label:"Username"}),r.a.createElement(H.a,{name:"password",type:"password",component:this.renderField,label:"Password"}),r.a.createElement(H.a,{name:"non_field_errors",type:"hidden",component:this.hiddenField}),r.a.createElement("button",{className:"ui primary button",style:{backgroundColor:"#6893ff",color:"rgb(253, 244, 222)"}},"Login"),r.a.createElement("div",{className:"ui primary button",onClick:function(){return e.guestLogin()},style:{backgroundColor:"#9d68ff"}},"Try it out!")),r.a.createElement("p",{style:{marginTop:"1rem"}},"Don't have an account? ",r.a.createElement(C.b,{to:"/register"},"Register"))))}}]),a}(n.Component);he=Object(d.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e){var t=e.username,a=e.password;return function(){var e=Object(h.a)(m.a.mark((function e(n){var r,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json"}},i=JSON.stringify({username:t,password:a}),e.prev=2,e.next=5,E.a.post("http://127.0.0.1:8000/api/auth/login",i,r);case 5:c=e.sent,n({type:"LOGIN_SUCCESS",payload:c.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),n({type:"LOGIN_FAIL"}),n(Object(v.b)("loginForm",e.t0.response.data));case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},guestLogin:function(){return function(){var e=Object(h.a)(m.a.mark((function e(t){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},n={username:"guest",password:"guestguest"},e.prev=2,e.next=5,E.a.post("http://127.0.0.1:8000/api/auth/login",n,a);case 5:r=e.sent,t({type:"LOGIN_SUCCESS",payload:r.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:"LOGIN_FAIL"}),t(Object(v.b)("loginForm",e.t0.response.data));case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}})(he);var fe=Object(q.a)({form:"loginForm"})(he),Ee=function(e){return c.a.createPortal(r.a.createElement("div",{onClick:e.onDismiss,className:"ui active dimmer"},r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"ui active modal"},r.a.createElement("div",{className:"header",style:{backgroundColor:"rgb(252, 124, 124)",color:"rgb(253, 244, 222)"}},e.title),r.a.createElement("div",{className:"content",style:{backgroundColor:"rgb(252, 124, 124)",color:"rgb(253, 244, 222)"}},e.content),r.a.createElement("div",{className:"actions",style:{backgroundColor:"rgb(252, 124, 124)"}},e.actions))),document.querySelector("#modal"))},ve=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getRecipe(this.props.match.params.id)}},{key:"render",value:function(){return void 0!=typeof this.props.auth.isAuthenticated&&!1===this.props.auth.isAuthenticated?r.a.createElement(x.a,{to:"/login"}):this.props.auth.user?this.props.auth.user.id===this.props.recipe.author?r.a.createElement(Ee,{title:"Delete Recipe",content:this.renderContent(),actions:this.renderActions(),onDismiss:function(){return T.push("/")}}):r.a.createElement("h1",{style:{gridArea:"profile",width:"80%",marginLeft:"auto",marginRight:"auto",color:"#6A6876"}},"This is not your recipe!!!!!!!!!!!!!!!!!!!!!!!!!"):r.a.createElement("h1",{style:{gridArea:"profile",width:"80%",marginLeft:"auto",marginRight:"auto",color:"#6A6876"}},"Loading")}},{key:"renderContent",value:function(){return this.props.recipe?"Are you sure you want to delete the recipe: ".concat(this.props.recipe.title,"?"):"Are you sure you want to delete this recipe?"}},{key:"renderActions",value:function(){var e=this,t=this.props.match.params.id;return r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(){return e.props.deleteRecipe(t)},className:"ui negative button",style:{color:"rgb(253, 244, 222)"}},"Delete"),r.a.createElement(C.b,{to:"/",className:"ui button"},"Cancel"))}}]),a}(n.Component),ge=Object(d.b)((function(e){return{auth:e.auth,recipe:e.recipe}}),{getRecipe:D,deleteRecipe:function(e){return function(){var t=Object(h.a)(m.a.mark((function t(a,n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.delete("http://127.0.0.1:8000/api/recipe/".concat(e,"/"),b(n));case 2:a({type:"DELETE_TODO",payload:e}),T.push("/");case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},loadUser:g})(ve),be=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.editRecipe(e.props.match.params.id,t),e.setState({user_recipes:e.props.getUserRecipes()}),e.forceUpdate()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getRecipe(this.props.match.params.id)}},{key:"render",value:function(){if(void 0!=typeof this.props.auth.isAuthenticated&&!1===this.props.auth.isAuthenticated)return r.a.createElement(x.a,{to:"/login"});var e,t=": ";return this.props.recipe&&(t+=this.props.recipe.title,e=this.props.recipe),this.props.auth.user?this.props.auth.user.id===e.author?r.a.createElement("div",{className:"ui container"},r.a.createElement("h2",{style:{marginTop:"2rem"}},"Edit Recipe",t),r.a.createElement(J,{initialValues:e,enableReinitialize:!0,onSubmit:this.onSubmit})):r.a.createElement("h1",{style:{gridArea:"profile",width:"80%",marginLeft:"auto",marginRight:"auto",color:"#6A6876"}},"This is not your recipe!!!!!!!!!!!!!!!!!"):r.a.createElement("h1",{style:{gridArea:"profile",width:"80%",marginLeft:"auto",marginRight:"auto",color:"#6A6876"}},"Loading")}}]),a}(n.Component),ye=Object(d.b)((function(e,t){return{auth:e.auth,recipe:e.recipe}}),{getRecipe:D,editRecipe:function(e,t){return function(){var a=Object(h.a)(m.a.mark((function a(n,r){var i;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.patch("http://127.0.0.1:8000/api/recipe/".concat(e,"/"),t,b(r));case 2:i=a.sent,n({type:"EDIT_TODO",payload:i.data}),console.log(t),T.push("/");case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},getUserRecipes:U,loadUser:g})(be),Oe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getRecipe(this.props.match.params.id),(null==localStorage.getItem("origin")|"OtherProfile"===localStorage.getItem("origin")|"Profile"===localStorage.getItem("origin")|"Feed"===localStorage.getItem("origin"))&void 0!==this.props.location.component&&localStorage.setItem("origin",this.props.location.component)}},{key:"render",value:function(){return void 0!=typeof this.props.auth.isAuthenticated&&!1===this.props.auth.isAuthenticated?r.a.createElement(x.a,{to:"/login"}):(this.setGrid(),console.log(this.props.recipe),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"recipe-detail-title"},r.a.createElement("h1",{id:"recipe-title"},this.props.recipe.title),r.a.createElement("hr",{style:this.borderColor()})),r.a.createElement("div",{id:"recipe-detail-pic-info"},r.a.createElement("div",{id:"recipe-detail-pic",style:{backgroundImage:"url(".concat(this.props.recipe.picture,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),r.a.createElement("section",{id:"recipe-detail-info"},r.a.createElement("div",{id:"recipe-detail-ingredients"},r.a.createElement("h2",null,"Ingredients"),r.a.createElement("p",{id:"recipe-ingredients-text",style:{whiteSpace:"pre-line"}},this.props.recipe.ingredients)),r.a.createElement("div",{id:"recipe-detail-directions"},r.a.createElement("h2",null,"Directions"),r.a.createElement("p",{id:"recipe-directions-text",style:{whiteSpace:"pre-line"}},this.props.recipe.directions))))))}},{key:"setGrid",value:function(){try{document.getElementById("grid-container-PROFILE").id="grid-container-EXPLORE"}catch(e){try{document.getElementById("grid-container-FEED").id="grid-container-EXPLORE"}catch(e){console.log("Detail Already Loaded")}}}},{key:"borderColor",value:function(){var e=localStorage.getItem("origin");return"Feed"===e|"OtherProfile"===e?{color:"#FFB4A0",backgroundColor:"#FFB4A0",height:"1.5px",border:"none",borderRadius:"10px"}:{color:"#6A6876",backgroundColor:"#6A6876",height:"1.5px",border:"none",borderRadius:"10px"}}}]),a}(n.Component),ke=Object(d.b)((function(e){return{recipe:e.recipe,auth:e.auth}}),{getRecipe:D})(Oe),_e=a(120),Ie=Object(d.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(_e.a)(e,["component","auth"]);return r.a.createElement(x.b,Object.assign({},n,{render:function(e){return a.isLoading?r.a.createElement("div",null,"Loading..."):a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(x.a,{to:"/login"})}}))})),Ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){w.dispatch(g())}},{key:"render",value:function(){return r.a.createElement(d.a,{store:w},r.a.createElement(C.a,null,r.a.createElement(B,null),r.a.createElement(x.d,null,r.a.createElement(Ie,{exact:!0,path:"/",component:Y}),r.a.createElement(x.b,{exact:!0,path:"/profile/:id",component:ne}),r.a.createElement(x.b,{exact:!0,path:"/recipe/:id",component:ke}),r.a.createElement(x.b,{exact:!0,path:"/feed",component:ie}),r.a.createElement(x.b,{exact:!0,path:"/explore",component:oe}),r.a.createElement(x.b,{exact:!0,path:"/register",component:me}),r.a.createElement(x.b,{exact:!0,path:"/login",component:fe}),r.a.createElement(x.b,{exact:!0,path:"/delete/:id",component:ge}),r.a.createElement(x.b,{exact:!0,path:"/edit/:id",component:ye}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement("div",{id:"grid-container-PROFILE"},r.a.createElement(Ne,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[146,1,2]]]);
//# sourceMappingURL=main.3683f105.chunk.js.map